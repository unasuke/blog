version: 2
executorType: docker
containerInfo:
  - image: unasuke/ruby-nodejs:2.3.4-nodejs6
stages:
  build: 
    workDir: ~/blog
    steps:
      - checkout
      - type: shell
        name: Install deps
        command: apt update && apt install -y nodejs
      - type: shell
        name: Install gems
        command: bundle install
      - type: shell
        name: build blog
        command: bundle exec middleman build
