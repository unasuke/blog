---
title: "RubyKaigi 2022ã®ä¼šå ´ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªãƒã‚¸ãƒˆãƒªã‚’èª­ã¿è§£ã"
date: 2022-11-29 01:30 JST
tags:
- ruby
- rubykaigi
- internet
---

![æ©Ÿæ](2022/rubykaigi-2022-network.jpg)

## ç§ãŒã“ã‚Œã‚’æ›¸ãå‹•æ©Ÿ
ç§ã¯Kaigi on Railsã®ã‚ªãƒ¼ã‚¬ãƒŠã‚¤ã‚¶ãƒ¼ã®ã²ã¨ã‚Šã§ã™ã€‚Kaigi on Rails 2023ã¯ç‰©ç†ä¼šå ´ã«ã¦é–‹å‚¬ã•ã‚Œã‚‹ã“ã¨ãŒå…¬é–‹ã•ã‚Œã¾ã—ãŸã€‚ãã†ãªã‚‹ã¨ã‚‚ã¡ã‚ã‚“ã€ä¼šå ´ã§ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«ã¤ã„ã¦ã¯ã©ã†ãªã‚‹ã€ã©ã†ã™ã‚‹ã€ã¨ã„ã†å•é¡ŒãŒå‡ºã¦ãã¾ã™ã€‚ãã‚Œã«å‚™ãˆã¦ã€å…ˆè¼©ã‚¤ãƒ™ãƒ³ãƒˆã§ã‚ã‚‹RubyKaigiã‚’å‚è€ƒã«ã—ã‚ˆã†ã¨ã„ã†ã‚ã‘ã§ã€è‡ªåˆ†ã®ç†è§£ã®ãŸã‚ã«æ›¸ãã“ã¨ã«ã—ã¾ã—ãŸã€‚

## ãŠã“ã¨ã‚ã‚Š
ç§ã¯RubyKaigi 2022ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã—ãŸãŒã€ã‚±ãƒ¼ãƒ–ãƒ«ã®å·»ãç›´ã—ã€APã®è¨­å–¶ã€æ’¤åæ™‚ã®è«¸ã€…ã‚’æ‰‹ä¼ã£ãŸã®ã¿ã§ã™ã€‚ã‚ˆã£ã¦ã“ã‚Œã‹ã‚‰è¨€åŠã™ã‚‹å†…å®¹ã«ã¤ã„ã¦ã¯ã€ä¸€èˆ¬å‚åŠ è€…ã«æ¯›ãŒç”ŸãˆãŸç¨‹åº¦ã®äº‹å‰çŸ¥è­˜ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚

ã¾ãŸã“ã‚Œã‹ã‚‰èª­ã¿è§£ãã‚³ãƒ¼ãƒ‰ã«ãŠã„ã¦ã€ã‚³ãƒ¡ãƒ³ãƒˆã™ã‚‹å†…å®¹ã®æ­£ç¢ºæ€§ã¯ä¸€åˆ‡ãªã„ã‚‚ã®ã¨æ€ã£ã¦èª­ã‚“ã§ãã ã•ã„ã€‚

## RubyKaigiã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã¤ã„ã¦
RubyKaigiã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ãŠã‘ã‚‹L3(OSIå‚ç…§ãƒ¢ãƒ‡ãƒ«ã§è¨€ã†ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å±¤ä»¥ä¸Š)ã‚ˆã‚Šä¸Šã®æ§‹æˆ(å¤šåˆ†)ã«ã¤ã„ã¦ã¯ã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">ä½•ã¨ã¯è¨€ã‚ã‚“ãŒç¾å ´çµ¶è³›å…¬é–‹ä¸­ãªã‚“ã ã‚ˆãªã€å®¿é¡Œã‚’æ”¾ç½®ã—ãŸè‡ªåˆ†ãŒå…¨éƒ¨æ‚ªã„ã¨ã„ã„ãªãŒã‚‰ã‚„ã£ã¦ã¾ã™ <a href="https://t.co/J6SoHxBd4P">https://t.co/J6SoHxBd4P</a> <a href="https://t.co/GcPJLU69Rn">https://t.co/GcPJLU69Rn</a></p>&mdash; ãã‚‰ã¯ (@sora\_h) <a href="https://twitter.com/sora_h/status/1566015189795110918?ref_src=twsrc%5Etfw">September 3, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

ä»Šå›ã¯ã€2022å¹´ã®ä¼šå ´ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®æ§‹ç¯‰ãŒå§‹ã¾ã£ãŸã‚ãŸã‚Šã‹ã‚‰ã®commitã‚’é †ã‚’è¿½ã†å½¢ã§èª­ã¿è§£ã„ã¦ã„ãã¾ã™ã€‚

### [e419d86](https://github.com/ruby-no-kai/rubykaigi-nw/commit/e419d86e19343425de14f59bbd7c841588b05bf8) destroy itamae/ and start from scratch
ä»Šå›ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®æº–å‚™ã¯ã“ã“ã‹ã‚‰é–‹å§‹ã—ãŸã¨è¦‹ã‚‰ã‚Œã¾ã™ã€‚ã“ã‚Œä»¥å‰ã«ã‚‚commitsã¯ã‚ã‚‹ã®ã§ã™ãŒã€ãã‚Œã‚‰ã¯2019å¹´ä»¥å‰ã®ã‚‚ã®ã‚’importã—ãŸã‚‚ã®ã®ã‚ˆã†ãªã®ã§ã€ä»Šå¹´ã«ã¯é–¢ä¿‚ãªã„ã¨ã—ã¦ç„¡è¦–ã—ã¾ã™ã€‚
å®Ÿéš›ã€ã“ã®commitã§ã‚‚itamaeã®recipeã‚’å‰Šé™¤ã—ã¦scratchã‹ã‚‰ã‚„ã‚ŠãªãŠã™ã€ã¨ã„ã†æ„å›³ã‚’æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚

### [073c8e71](https://github.com/ruby-no-kai/rubykaigi-nw/commit/073c8e71bd115dd6601f41cab831ef1da9dd39b2) onpremises subnet
subnetã‚’3ã¤ã€route_tableã‚’ã²ã¨ã¤å®šç¾©ã—ã¦ã„ã¾ã™

### [260fc96f](https://github.com/ruby-no-kai/rubykaigi-nw/commit/260fc96f1d3395fa2600c8b012bd4a562d15e0ad) dxg

AWS Direct Connect ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚AWS Direct Connectã¨ã¯â€¦â€¦

> AWS Direct Connect ã¯ã€ãŠå®¢æ§˜ã®å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ AWS Direct Connect ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã€æ¨™æº–ã®ã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆå…‰ãƒ•ã‚¡ã‚¤ãƒã‚±ãƒ¼ãƒ–ãƒ«ã‚’ä»‹ã—ã¦æ¥ç¶šã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã§ã™ã€‚
> <https://docs.aws.amazon.com/ja_jp/directconnect/latest/UserGuide/Welcome.html>

ã¨ã®ã“ã¨ã§ã™ã€‚(ä»ŠçŸ¥ã£ãŸ)

### [3c07751](https://github.com/ruby-no-kai/rubykaigi-nw/commit/3c07751025daae7e4bb13f6caa10d5bf351eda8c) rubykaigi.net route53 zones

Route 53ã« `rubykaigi.net` ã®Zoneã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é–¢ä¿‚ã®è‰²ã€…ã¯ `*.rubykaigi.net` ã§æä¾›ã•ã‚Œã¾ã—ãŸã€‚

### [6e1f798da](https://github.com/ruby-no-kai/rubykaigi-nw/commit/6e1f798dafa9a04c1beed2a1cbccda1ad86acf70) setup bastion instance
è¸ã¿å°ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚é–¢é€£ã™ã‚‹IAM roleã§ã‚ã£ãŸã‚Šã€SSH loginã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¬é–‹éµã®è¨­å®šãªã©ã‚‚ã‚ã‚Šã¾ã™ã€‚

### [b29183d](https://github.com/ruby-no-kai/rubykaigi-nw/commit/b29183d68547e7ca3b4def51aa1489f31a11f635) aws_route53_zone.ptr-10 => 10.in-addr.arpa. 
DNSã®é€†å¼•ãã‚’è¨­å®šã—ã¦ã„ã‚‹ã‚“ã ã¨æ€ã„ã¾ã™ã€‚ã“ã®è¨˜è¼‰ã§ `10.0.0.0` ã«ãªã‚‹ã£ã¦ã“ã¨â€¦â€¦ï¼Ÿ

<https://manual.iij.jp/dpf/help/19004700.html>

### [c3a8f29c1](https://github.com/ruby-no-kai/rubykaigi-nw/commit/c3a8f29c1ec9a5243104a6c8abc0e3653df91739) mv terraform/ => tf/core/ in order to have multiple tfstates 
ã“ã‚Œã¯å˜ç´”ã«Terraformã®directoryæ§‹æˆã®å¤‰æ›´ã§ã™ã­ã€‚

### [4dd4bae2](https://github.com/ruby-no-kai/rubykaigi-nw/commit/4dd4bae2e08f27b703b0e9118f2e2e891cc91c4b) create hosts DNS records with terraform

æ§˜ã€…ãªæ©Ÿå™¨ã®Datacenterã€Networkã€CIDRã€IPç­‰ã‚’å®šç¾©ã—ãŸhosts.txtã‚’ä½œæˆ(ã¨ã„ã†ã‚ˆã‚Šæ›´æ–°)ã—ã€ãã®å†…å®¹ã‹ã‚‰ `aws_route53_record` ã‚’ä½œæˆã™ã‚‹Ruby scriptã‚’çµŒç”±ã—ã¦Route 53ã«Terraformã‹ã‚‰recordã‚’ç™»éŒ²ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã¾ã‚ã“ã‚Œã¯æ‰‹ã§ã¯æ›¸ã„ã¦ã„ã‚‰ã‚Œãªã„ã§ã™ã­â€¦â€¦æœ€çµ‚çš„ãªhosts.tfã¯1400è¡Œå¼±ã«ãªã£ã¦ã„ã¾ã™ã€‚

### [8fcc2cf](https://github.com/ruby-no-kai/rubykaigi-nw/commit/8fcc2cf5c6994efc4e034244d35489658cf77ad2) remove route53/ (roadworker)
Roadworkerã‚’å‰Šé™¤ã—ã¦ã„ã¾ã™ã€‚Roadworkerã¯Rubyã«ã‚ˆã‚‹Route 53ã‚’DSLã«ã‚ˆã£ã¦ç®¡ç†ã§ãã‚‹gemã§ã™ã€‚Terraformã«ã‚ˆã‚‹ç®¡ç†ã«ä¹—ã‚Šæ›ãˆãŸã‹ã‚‰ã€ã¨ã„ã†ã“ã¨ãªã‚“ã§ã—ã‚‡ã†ã€‚

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">aws_route53_record å¤§é‡ã«ç™ºç”Ÿã™ã‚‹ã¨ä¸€ç¬ã§ terraform apply é…ã™ãã¦ã‚„ã£ã¦ã‚‰ã‚Œã‚“çŠ¶æ…‹ã«ãªã‚‹ã— roadworker ã¯ãªã‚“ã ã‹ã‚“ã æ¨ã¦ã‚‰ã‚Œãªã„ãªã</p>&mdash; ãã‚‰ã¯ (@sora\_h) <a href="https://twitter.com/sora_h/status/1561825685869838341?ref_src=twsrc%5Etfw">August 22, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

### [01b95c6](https://github.com/ruby-no-kai/rubykaigi-nw/commit/01b95c63fb4e5889f9f71ebec8e7af818e4f6cc4) enable nat gateway 
NAT GatewayãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã—ãŸã€‚


### [687e37b](https://github.com/ruby-no-kai/rubykaigi-nw/commit/687e37b0c65792a88759990df9f8197b3c10e3bf) initialize k8s cluster 
EKSã«ã‚ˆã‚‹Kubernetes clusterãŒçˆ†èª•ã—ã¾ã—ãŸã€‚ã¨ã„ã†ã‹ã€Cookpad orgä»¥ä¸‹ã«terraform moduleãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚“ã§ã™ã­ã€‚

<https://github.com/cookpad/terraform-aws-eks>

æ³¨ç›®ã™ã¹ãã¯ã€ã“ã®ã‚¯ãƒ©ã‚¹ã‚¿ã¯å…¨éƒ¨ARM instanceã§ç¨¼å‹•ã™ã‚‹ã‚ˆã†ãªè¨­å®šã«ãªã£ã¦ã„ã‚‹ã¨ã“ã‚ã§ã™ã€‚


### [a8b808f6](https://github.com/ruby-no-kai/rubykaigi-nw/commit/a8b808f6dcf94c0c0bcc13b8df3639500bfae1e6) aws\_vpn\_gateway\_route\_propagation (import) 
VPNé–“ã§ã®routeã®propagationã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚


### [dd6967e](https://github.com/ruby-no-kai/rubykaigi-nw/commit/dd6967e13a1d777847b45302c66398e9235c3ac0) provision node groups
K8s clusterã«å±ã™ã‚‹nodeã®è¨­å®šã§ã™ã€‚


### [14e22a3](https://github.com/ruby-no-kai/rubykaigi-nw/commit/14e22a331565cc12351f6e7b1c195d2170c5714c) deploy node-termination-handler
<https://github.com/aws/aws-node-termination-handler> ã‚’HelmçµŒç”±ã§deployã—ã¦ã„ã¾ã™ã€‚ã“ã‚“ãªã®ãŒã‚ã‚‹ã‚“ã§ã™ã­ã€‚

* [Amazon EKS ã§ EC2 ã‚¹ãƒãƒƒãƒˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](https://aws.amazon.com/jp/premiumsupport/knowledge-center/eks-spot-instance-best-practices/)
* [AWS Node Termination Handlerã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ - Gunosy Tech Blog](https://tech.gunosy.io/entry/aws-node-termination-handler-new-feature)

### [ddb5c69](https://github.com/ruby-no-kai/rubykaigi-nw/commit/ddb5c6978d0656f056612e8fb22a9246ccaad0c1) deploy aws-load-balancer-controller

AWS Load Balancer Controllerã‚’clusterã«deployã—ã¦ã„ã¾ã™ã€‚

[AWS Load Balancer Controller ã‚¢ãƒ‰ã‚ªãƒ³ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« - Amazon EKS](https://docs.aws.amazon.com/ja_jp/eks/latest/userguide/aws-load-balancer-controller.html)

### [ff3f013](https://github.com/ruby-no-kai/rubykaigi-nw/commit/ff3f01374866b127fec5808073eb127523779387) addcreate shared ALB (ops-lb.rubykaigi.net) 
è¨¼æ˜æ›¸ã¨ALBã‚’ä½œæˆã—ã¦ `*.rubykaigi.net` ãªã„ãã¤ã‹ã®hostã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚ã“ã‚“ãªã®ç”Ÿãˆã¦ãŸã®ã‹ã€‚


### [144b3b6](https://github.com/ruby-no-kai/rubykaigi-nw/commit/144b3b65b834223c0afea2954c80fa0544c4475f) deploy dex at idp.rubykaigi.net

dexã‚’deployã—ã¦ã„ã¾ã™ã€‚dexã¨ã„ã†ã®ã¯ <https://dexidp.io/> ã§ã™ã€‚ ã“ã‚Œã§ä½•ã‚’ã—ãŸã„ã‹ã¨ã„ã†ã¨ã€  `*.rubykaigi.net` ã§hostã•ã‚Œã¦ã„ã‚‹ã„ãã¤ã‹ã®resources(ä¾‹ãˆã° `grafana.rubykaigi.net` )ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’çµã‚‹ãŸã‚ã§ã™ã€‚ä»Šå›ã¯GitHubã®ç‰¹å®šteamã«æ‰€å±ã—ã¦ã„ã‚‹ãƒ¡ãƒ³ãƒãƒ¼ã«å¯¾ã—ã¦ã®è¨±å¯ã‚’ä¸ãˆã‚‹ã‚ˆã†ãªè¨­å®šãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

ã¾ãŸä¸»ã«ã“ã®commitä»¥é™ã‹ã‚‰ã ã¨æ€ã„ã¾ã™ãŒã€K8sã§ä½¿ç”¨ã™ã‚‹YAMLã‚’Jsonnetã‹ã‚‰ç”Ÿæˆã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

### [f5d628c](https://github.com/ruby-no-kai/rubykaigi-nw/commit/f5d628ced9a63ffdeb969f8480b8cebb0d0795f8)  test.rubykaigi.net with authenticate_oidc action through dex
ã§ã€ãã®ãƒ†ã‚¹ãƒˆç”¨ã®endpointã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚ã¡ã‚ƒã‚“ã¨Authrorizeã•ã‚Œã¦ã„ã‚Œã°ç”»åƒãŒè¦‹ã‚Œã‚‹ã¯ãšã€ã¨ã„ã†ã‚„ã¤ã€‚

### [9cb14e1](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9cb14e18431331e9419a33cc86d3012d592134b0) add wgbridger
wgbridgerã‚’å°å…¥ã—ã¦ã„ã¾ã™ã€‚wgbridgerã¨ã„ã†ã®ã¯ã€

> build L2 bridge using Wireguard to bring NGN to behind IPv4 NAPT only environment...

ã¨ã„ã†ã‚‚ã®(ï¼Ÿ) ã“ã‚Œã¯ã‚ã‚Œã‹ãªã€æº–å‚™ä½œæ¥­ä¸­ã«è¦‹ã›ã¦ãã‚ŒãŸã€ã©ã“ã§ã‚‚NGNã«ç¹‹ãŒã‚‹ä¾¿åˆ©Raspberry Piã®å®Ÿä½“ã‹ãªï¼Ÿ


### [43c0b1a](https://github.com/ruby-no-kai/rubykaigi-nw/commit/43c0b1a8462e8cac9c086d65023edc1584dd18a8)  amc: to gain access to AWS through dexidp
dexã‚’OIDCæº–æ‹ IdPã¨ã—ã¦ä½¿ç”¨ã—ãŸèªè¨¼ã‚’åˆ©ç”¨ã—ã€AWS Management Consoleã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚’ç‰¹å®šã®IAM Roleã«ã‚ˆã£ã¦è¡Œãˆã‚‹ã‚ˆã†ãªæ©Ÿæ§‹ã€AMCã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã©ã†ã„ã†ã“ã¨ã‹ã¨ã„ã†ã¨ã€ã‚ã‚‹GitHub teamã«æ‰€å±ã—ã¦ã„ã‚‹å ´åˆã€ãã®èªè¨¼æƒ…å ±ã‚’ç”¨ã„ã¦AWSã®Consoleã«å…¥ã‚Œã‚‹ä»•çµ„ã¿ã§ã™ã€‚ `tf/amc/src/app.rb` ãŒã‚­ãƒ¢ã ã¨æ€ã†ã‚“ã§ã™ãŒã€é›£ã—ã„ã‚ˆã‰â€¦â€¦

* [Application Load Balancer ã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èªè¨¼ã™ã‚‹ - Elastic Load Balancing](https://docs.aws.amazon.com/ja_jp/elasticloadbalancing/latest/application/listener-authenticate-users.html)


### [5d66255](https://github.com/ruby-no-kai/rubykaigi-nw/commit/5d66255a338f1c964537a02ae2bec3d540190c92) amc: enhance readme
AMCã®READMEã«è¿½è¨˜ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚


### [1db6e03](https://github.com/ruby-no-kai/rubykaigi-nw/commit/1db6e03594dc9f9d029815eb72d9b7dab0358654) amc(ca_thumbprint): validate certificate chain
AMCã«é–¢é€£ã™ã‚‹å‡¦ç†ã®ãªã‹ã§ã€curlã«ã‚ˆã‚‹è¨¼æ˜æ›¸ãƒã‚§ãƒ¼ãƒ³ãŒæ­£å½“ã‹ã©ã†ã‹ã®æ¤œè¨¼ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

### [dc4ec4d](https://github.com/ruby-no-kai/rubykaigi-nw/commit/dc4ec4df11056bce67fc61b4965a3d77eab79e0b) build kea Docker image 
ã“ã“ã‹ã‚‰Keaã®ãŸã‚ã®æº–å‚™ãŒå§‹ã¾ã‚Šã¾ã™ã€‚KeaãŒä½•è€…ã‹ã¨ã„ã†ã¨ã€DHCP serverã§ã™ã€‚ã“ã®commitã§ã¯ã€Docker imageã®buildã‚„Keaã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®scriptãªã©ã®æº–å‚™ã‚’ã—ã¦ã„ã¾ã™ã€‚

<https://www.isc.org/kea/>

### [cd4d420](https://github.com/ruby-no-kai/rubykaigi-nw/commit/cd4d4209d19c29604dc3079d3b4a9ffceda3d330) create kea backend rds 
ã“ã‚Œã¯Keaã®ãŸã‚ã®Auroraã‚’æº–å‚™ã—ã¦ã„ã¾ã™ã€‚

### [bf917ef](https://github.com/ruby-no-kai/rubykaigi-nw/commit/bf917ef03c09bbe58c932eaf3602e845e6a40962)  gen-k8s: use rsync instead of rm -rf & cp 

Jsonnetã‚’YAMLã«ã™ã‚‹scriptå†…éƒ¨ã§ã€ç”Ÿæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®æ‰±ã„ãŒã¡ã‚‡ã£ã¨å¤‰æ›´ã•ã‚Œã¦ã„ã¾ã™ã€‚rsyncã«ã—ãŸã®ã¯æ›´æ–°æ—¥æ™‚ã¨ã‹ãã®ã‚ãŸã‚Šã®éƒ½åˆï¼Ÿ


### [857d625](https://github.com/ruby-no-kai/rubykaigi-nw/commit/857d6253cc212b52841fd1dac5c1e29cf51d49e3) deploy kea-dhcp4
KeaãŒé‹ç”¨ã•ã‚Œå§‹ã‚ã¾ã—ãŸã€‚

### [f64e1a1](https://github.com/ruby-no-kai/rubykaigi-nw/commit/f64e1a1c5c77c2ea2df3c1d46b76e8653379024c)  dhcp: add health check server for NLB
Keaã«å¯¾ã™ã‚‹healthcheckç”¨ã®endpointã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€Rustã§ã€‚Healthcheckãã†ã‚„ã£ã¦ã‚„ã‚‹ã‚“ã â€¦â€¦ãªã‚‹ã»ã©â€¦â€¦ï¼Ÿ

### [36c0f97](https://github.com/ruby-no-kai/rubykaigi-nw/commit/36c0f97a159918bfdf83c0562e4dedc04dcba500) NocAdmin: allow elasticloadbalancing:*
NocAdmin roleã«å¯¾ã—ã¦ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã¸ã®æ¨©é™ã‚’è§£æ”¾ã—ã¦ã„ã¾ã™ã€‚


### [04171ac](https://github.com/ruby-no-kai/rubykaigi-nw/commit/04171aca162a5c79c5acac2acead5080b4fd4b15) dhcp: roll c866cff
Keaé–¢é€£ã®deploymentã§å‚ç…§ã—ã¦ã„ã‚‹commit hashã‚’æ›´æ–°ã—ã¦ã„ã¾ã™ã€‚


### [7a7a1c3](https://github.com/ruby-no-kai/rubykaigi-nw/commit/7a7a1c37f59c66cc2e1e39c6baa57f66d5925cb2) nocadmin: grant rds:* 
NocAdmin roleã«å¯¾ã—ã¦RDSã¸ã®æ¨©é™ã‚’è§£æ”¾ã—ã¦ã„ã¾ã™ã€‚


### [cc0d6cb](https://github.com/ruby-no-kai/rubykaigi-nw/commit/cc0d6cb9b7b78ddeaa0af61bccac80dbc286fe38)  employ permission boundary on NocAdminBase policy
ã“ã‚Œã¯ã¡ã‚‡ã£ã¨ã‚ã‹ã‚‰ãªã„â€¦â€¦NocAdminBaseã¨NocAdminã«æ¨©é™ã‚’åˆ†é›¢ã—ã¦ã€æ¨©é™æ˜‡æ ¼ã‚’é˜²ã„ã§ã„ã‚‹ã‚“ã ã¨æ€ã„ã¾ã™ãŒå¤šåˆ†ã€‚

[æ¨©é™ã®æ˜‡æ ¼ã‚’é˜²ãã€ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã®å¢ƒç•Œã§ IAM ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¯„å›²ã‚’é™å®šã™ã‚‹](https://aws.amazon.com/jp/premiumsupport/knowledge-center/iam-permission-boundaries/)

### [cf56dd4](https://github.com/ruby-no-kai/rubykaigi-nw/commit/cf56dd4c007afd81f7d25b61d469931926d23b2a) copypasta
ğŸ


### [4756245](https://github.com/ruby-no-kai/rubykaigi-nw/commit/47562454af2a08a8776345e633116009aa7a8a22) NocAdmin: grant more iam permissions 
NocAdminã«å¯¾ã—ã¦è¨±å¯ã™ã‚‹iamã¸ã®æ¨©é™ã‚’ã„ã£ã±ã„è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚


### [2c09e19](https://github.com/ruby-no-kai/rubykaigi-nw/commit/2c09e19336d5a15d79f28c44de4ee1640f1d83dd) tf/k8s: arm64 support has been merged but not yet released
687e37bã§å°å…¥ã•ã‚ŒãŸterraform moduleã‚’forkå…ˆã®ã‚‚ã®ã‹ã‚‰forkå…ƒã®ã‚‚ã®ã‚’ä½¿ã†ã‚ˆã†ä¿®æ­£ã—ã¦ã„ã¾ã™ã€‚ARMå¯¾å¿œãŒmergeã•ã‚ŒãŸã®ãŒã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã ã£ãŸã®ã‹ãªã€‚


### [d5c2a75](https://github.com/ruby-no-kai/rubykaigi-nw/commit/d5c2a75275139bde882f88439716d17e8cd2feaa) tf: No YAML! 
Terraformã®external data sourceã¨ã—ã¦ã€Jsonnetã‚’æŒ‡å®šã—ã¦JSONã‚’åãã¨ãã«ä½¿ã†ãŸã‚ã®Ruby scriptã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

* [external\_data-sources | Data Sources | hashicorp/external | Terraform Registry](https://registry.terraform.io/providers/hashicorp/external/latest/docs/data-sources/data_source)


### [9743d8f](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9743d8fe8ca7fbea6e0fd1cb38060be0adb6840c) tf/core: ALB rules for prometheus/alertmanager 
ã“ã®ã‚ãŸã‚Šã‹ã‚‰Prometheusã®è¨­å®šãŒå§‹ã¾ã‚Šã¾ã™ã€‚ã“ã“ã§ã¯ALBã®ãŸã‚ã®è¨­å®šã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã®endpointã‚‚dexã‚’çµŒç”±ã—ã¦èªè¨¼ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã­ã€‚


### [6cf6189](https://github.com/ruby-no-kai/rubykaigi-nw/commit/6cf618963bfb9a15d852dc870ea36fde743789f4)  tf/k8s-prom: install kube-prometheus-stack
HelmçµŒç”±ã§Prometheusã‚’K8s clusterã«deployã—ã¦ã„ã¾ã™ã€‚


### [9020ef2](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9020ef2b0e8f159e4c5bcd5aab1e5bfd3a0da6fc) tf/k8s-prom: Install prometheus-blackbox-exporter chart
blackbox exporter ã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚ICMP (ping)ã§ã©ã“ã‹ã‚’ç›£è¦–ã™ã‚‹ç”¨ã‹ãªã€‚

### [6e086c7](https://github.com/ruby-no-kai/rubykaigi-nw/commit/6e086c7a910ddc432bc0ef98d15a05a886cee324) k8s/prom: Probes
`8.8.8.8` ã«å¯¾ã—ã¦60ç§’ã”ã¨ã«ICMPã‚’æŠ•ã’ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®ç–é€šç¢ºèªã‹ãªï¼Ÿ


### [287eba2](https://github.com/ruby-no-kai/rubykaigi-nw/commit/287eba20ae1f413c7ad42588983a9f413a0eac81) tf/k8s-prom: Set retention to 30 days
Prometheusã®data retensionã‚’1åˆ†ã‹ã‚‰30æ—¥ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚


### [f86fb99](https://github.com/ruby-no-kai/rubykaigi-nw/commit/f86fb99a03184ad82ca04d2011cd75ae8431333e) tf/k8s: Export cluster config
clusterã¸ã®è¨­å®šã‚’ä»–ã®tfã‹ã‚‰å‚ç…§ã§ãã‚‹ã‚ˆã†ã«outputã—ã¦ã„ã¾ã™ã€‚


### [7c1f56c](https://github.com/ruby-no-kai/rubykaigi-nw/commit/7c1f56c3d6f6edef7f749fa3d09406140a808a99)  tf/k8s-prom: Import cluster config via terraform\_remote\_state
ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ã¦ã„ãŸè¨­å®šå€¤ã‚’ã€å…ˆã»ã©outputã—ãŸclusterã®è¨­å®šã‚’ç”¨ã„ãŸå½¢ã«æ›¸ãæ›ãˆã¦ã„ã¾ã™ã€‚


### [025d95](https://github.com/ruby-no-kai/rubykaigi-nw/commit/025d95b058d21b2b7deb39d94751ba778bb1ad71) update hosts.txt
hosts.txtãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ


### [f52e1bc](https://github.com/ruby-no-kai/rubykaigi-nw/commit/f52e1bc3be246129cb14038c7fbe32ab92375cd5) tf/k8s: snmp-exporter
snmp-exporterã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚SNMPã¯Simple Network Management Protocolã®ã“ã¨ã€‚Ciscoã®Wireless LAN Controllerã‚„NECã®IX Routerã®ç›£è¦–ã«ç”¨ã„ã¦ã„ãŸã®ã‹ãªã€‚


### [22b1104](https://github.com/ruby-no-kai/rubykaigi-nw/commit/22b11049c8c5d2f29612643b9f1680bb3caae839) k8s/prom: Example config for blackbox/snmp probes
å…ˆã®commitã§ä½œæˆã—ãŸè¨­å®šå€¤ã‚’prometheuså´ã«åæ˜ ã•ã‚Œã‚‹ã‚ˆã†ã«K8sã®manifestã‚’è¨­å®šã—ã¦ã„ã‚‹ã€ã¨ã„ã†ç†è§£ã§ã„ã„ã®ã‹ãª


### [743b14b](https://github.com/ruby-no-kai/rubykaigi-nw/commit/743b14bb16a6e4ae6cab33a7392a600900a79bbb) tf/k8s-prom: Grafana 
Grafanaã§ã™ã€‚


### [218ec5](https://github.com/ruby-no-kai/rubykaigi-nw/commit/218ec524adc95a8cf33640ccfdd06eec467a9e59) k8s/dhcp: Monitor kea4
Keaã®ç›£è¦–ã‚‚Prometheusã§è¡Œã†ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ


### [99cb633](https://github.com/ruby-no-kai/rubykaigi-nw/commit/99cb6338da8903a0c2fe41f382e08f4525b8eb07) wgbridger: increase wg0 mtu
wgbridgerã®ãŸã‚ã«MTUå€¤ã‚’ä¸Šã’ã¦ã„ã¾ã™

### [034fe8f](https://github.com/ruby-no-kai/rubykaigi-nw/commit/034fe8f7f4ad302be15a6cc46c40bbe1e4762f6f) wlc.rubykaigi.net
Wireless LAN Controllerã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚


### [42df8b0](https://github.com/ruby-no-kai/rubykaigi-nw/commit/42df8b0cdca21501a38c5bbec32700b37bf36378) k8s-prom: Slack alert
Prometheusã‹ã‚‰ã®ã‚¢ãƒ©ãƒ¼ãƒˆãŒSlackã«é€ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚


### [c89d220](https://github.com/ruby-no-kai/rubykaigi-nw/commit/c89d2201c33190de2e9ec665fe7383d8c2564bb5) jsonnetfmt -i **/*.jsonnet
Jsonnetã«å¯¾ã—ã¦formatterã‚’ã‹ã‘ã¦ã„ã¾ã™ã€‚


### [dd79016](https://github.com/ruby-no-kai/rubykaigi-nw/commit/dd79016129f70cb4f513c3cadf20caf3deec7fe5) prom: scrape-interval 20s
PrometheusãŒmetricsã‚’scrapeã™ã‚‹é–“éš”ã‚’60ç§’ã‹ã‚‰20ç§’ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚


### [d397d5a](https://github.com/ruby-no-kai/rubykaigi-nw/commit/d397d5a5a1b68dd6f578d1a46beeb031d0e27d12) tf/k8s: Export cluser OIDC config
clusterã§ã®OIDC configã‚’åˆ¥tfã‹ã‚‰å‚ç…§ã§ãã‚‹ã‚ˆã†ã«exportã—ã¦ã„ã¾ã™

### [0344245](https://github.com/ruby-no-kai/rubykaigi-nw/commit/0344245723c108754fdab7b3922bf400f4e6aac5) nocadmin: dynamodb:*
NocAdmin roleã«å¯¾ã—ã¦DynamoDBã«é–¢ã™ã‚‹æ¨©é™ã‚’è§£æ”¾ã—ã¦ã„ã¾ã™ã€‚ãªã‚“ã‹ã§ä½¿ã†ã‚“ã§ã—ã‚‡ã†ã€‚


### [68781de](https://github.com/ruby-no-kai/rubykaigi-nw/commit/68781de387398d2a6ce4c365e3b7610b50bbae4b) tf: state lock
ãªã‚‹ã»ã©ã€State lockã§DynamoDBã‚’ä½¿ã†ãŸã‚ã ã£ãŸã‚“ã§ã™ã­ã€‚

[Backend Type: s3 | Terraform | HashiCorp Developer](https://developer.hashicorp.com/terraform/language/settings/backends/s3)

### [3fa3622](https://github.com/ruby-no-kai/rubykaigi-nw/commit/3fa362232f5ae8bc3ff55af28d5a40d12702f3b4) noadmin: Allow iam:UpdateAssumeRolePolicy
NocAdmin roleã«å¯¾ã—ã¦ `iam:UpdateAssumeRolePolicy` ã‚’è¨±å¯ã™ã‚‹ã‚ˆã†å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

### [a5268cf](https://github.com/ruby-no-kai/rubykaigi-nw/commit/a5268cf2d39090e599185c49aa1081f426693360) prom: cloudwatch_exporter
cloudwatch_exporterã‚’æœ‰åŠ¹ã«ã—ã¦ã„ã¾ã™ã€‚AWSã®resourceã‚‚Prometheusã§ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã§ã—ã‚‡ã†ã­

### [d36e815](https://github.com/ruby-no-kai/rubykaigi-nw/commit/d36e815134cf2cfb541d7c313fb4a8e6d25f8303) update hosts.txt
hosts.txtã‚’æ›´æ–°ã—ã¦ã„ã¾ã™ã€‚IPv6ã®æŒ‡å®šãŒå¢—ãˆã¦ã¾ã™ã­ã€‚

### [18af871](https://github.com/ruby-no-kai/rubykaigi-nw/commit/18af8719fbd4d2f881c588a5537171d7cf2aac0d) update hosts.txt
ã•ã‚‰ã«hosts.txtã®æ›´æ–°ã€‚ã‚‚ã‚Šã£ã¨hostãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚


### [3902ba6](https://github.com/ruby-no-kai/rubykaigi-nw/commit/3902ba6a1b09ae1c2ac07990263f6d13e47576d5) hosts\_to\_tf: fix error that single name allowed only single rrtype
hosts.txtã‹ã‚‰tfã«å¤‰æ›ã™ã‚‹scriptã‚’ä¿®æ­£ã—ã¦ã„ã¾ã™ã€‚IPv6ã®å–ã‚Šæ‰±ã„ã¨ã‹ã«ä¿®æ­£ãŒå…¥ã£ã¦ã¾ã™ã­ã€‚


### [fd15430](https://github.com/ruby-no-kai/rubykaigi-nw/commit/fd15430ea91ef49fb1aec83e6a464781d67532fe) update hosts.txt (typo)
typo


### [e21aec7](https://github.com/ruby-no-kai/rubykaigi-nw/commit/e21aec77e08e42ff4221eaeae20fbc45a8be2937) script to generate tunnel iface configurations...
ã“ã‚Œã¯â€¦â€¦ãªã‚“ã ã‚ã†ã€å¤šåˆ†ä½•ã‹ã®æ©Ÿå™¨ç”¨ã®è¨­å®šã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã®scriptã€‚NECã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã ã¨æ€ã†ã‘ã©ã€‚

[ãƒãƒ‹ãƒ¥ã‚¢ãƒ« : UNIVERGE IXã‚·ãƒªãƒ¼ã‚º | NEC](https://jpn.nec.com/univerge/ix/Manual/index.html)


### [6febb97](https://github.com/ruby-no-kai/rubykaigi-nw/commit/6febb97e935ba5dfe1f406ad43a4125a6850dbd6) nocadmin: Allow s3:* on rk-syslog bucket
Syslogã‚’ç½®ããŸã‚ã®S3 bucketã¸ã®æ¨©é™ã‚’NocAdmin roleã«ä»˜ã‘ã¦ã„ã¾ã™

### [335669f](https://github.com/ruby-no-kai/rubykaigi-nw/commit/335669fa2fdcb5240b40d3731a0cfea6b9e70cd1) tf/syslog: init
Syslogé–¢é€£ã®terraformã®ãŸã‚ã®å ´æ‰€ã‚’ä½œã£ã¦ã„ã¾ã™ã€‚

### [8440359](https://github.com/ruby-no-kai/rubykaigi-nw/commit/84403599afd45330f7a8a04c8c1bda55220e4937) tf/syslog: ECR repo for custom fluentd image
Syslogã®ãŸã‚ã®fluentdã‚’ç½®ãECR repositopryã‚’å®šç¾©ã—ã¦ã„ã¾ã™

### [dbc46d8](https://github.com/ruby-no-kai/rubykaigi-nw/commit/dbc46d87d08085765fa0e04070dc978b4d51c06b) docker: custom fluentd image
Syslogã®ãŸã‚ã®fluentd containerã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚GitHub Actionsã§docker buildã‚’ã—ã¦ã„ã¾ã™ã­ã€‚

### [9eef1d4](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9eef1d444d7aef3962e43c4692054eeaa4ff6d8a) Use https transport for cnw submodule to allow unauthenticated checkout
git submoduleã®repository URLã‚’sshå½¢å¼ã‹ã‚‰httpså½¢å¼ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚éµãŒãªã„ç’°å¢ƒã§cloneã§ããªã„ã‹ã‚‰ã€ã§ã—ãŸã£ã‘ã€‚ãŸã¶ã‚“GitHub Actionsã§ä¸éƒ½åˆã«ãªã£ãŸã®ã‹â€¦â€¦ï¼Ÿ


### [d89649d](https://github.com/ruby-no-kai/rubykaigi-nw/commit/d89649dd9cdc4acda2ec25ec4674245f0ff41230)  docker/syslog: fluend plugins
fluentd pluginã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã¾ãšhealthcheckã ã‘ã‚„ã£ã¦ã‚‹æ„Ÿã˜ï¼Ÿ

### [c690a8f](https://github.com/ruby-no-kai/rubykaigi-nw/commit/c690a8fd67d97dabb6ab07b99865f4b17f9f7c9c) tf/core: Allow GHA to push fluentd images
GitHub Actionsã‹ã‚‰ECRã«pushã§ãã‚‹ã‚ˆã†ãªæ¨©é™ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™

### [71ae2b9](https://github.com/ruby-no-kai/rubykaigi-nw/commit/71ae2b9d8bd6ea6e3dad605193f153b35a7ab215) tf/syslog: k8s service account for fluentd
Syslogç”¨ã®IAM roleã€K8sã®service accountã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚EKSã§IAM roleã¨ã®é€£æºã£ã¦ã“ã†ã‚„ã£ã¦ã‚„ã‚‹ã‚“ã ã€‚

### [2ab09ff](https://github.com/ruby-no-kai/rubykaigi-nw/commit/2ab09ffeb8c0675fb9e48f9c809b374f5209657c) k8s/syslog: deploy fluentd
fluentdã®è¨­å®šã€k8sã®deploymentè«¸ã€…ãŒä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã§EKS clusterã«fluentd containerãŒç¨¼å‹•ã—å§‹ã‚ãŸã®ã‹ãªã€‚

### [eb9d2bd](https://github.com/ruby-no-kai/rubykaigi-nw/commit/eb9d2bd7debb3fd60bdc2336d1ad129f5e3a2a60) tf/syslog: SGs
Syslogã®ãŸã‚ã®Security groupã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚fluentdã«å‘ã‹ã†é€šä¿¡ã‚’è¨±å¯ã—ã¦ã„ã‚‹ã¯ãšã€‚

### [06cafcf](https://github.com/ruby-no-kai/rubykaigi-nw/commit/06cafcf1055819c754b0b750c8e48d2d55065805) k8s/syslog: use monitor_agent plugin for healthcheck
fluentdã®healthcheckã®ãŸã‚ã«ã€pluginã‚’ä½œã£ã¦ã‚„ã£ã¦ã„ãŸã‚‚ã®ã‹ã‚‰monitor_agentã‚’ä½¿ã†æ–¹å¼ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

<https://docs.fluentd.org/input/monitor_agent>

### [850181c](https://github.com/ruby-no-kai/rubykaigi-nw/commit/850181c9b662ae43f5db6d461c84cf9f3923be90) workflow: correct path
GitHub Actionså†…ã§å‚ç…§ã—ã¦ã„ãŸpathã®ä¿®æ­£ã§ã™

### [8c44f4d](https://github.com/ruby-no-kai/rubykaigi-nw/commit/8c44f4ddfc728cc760b213db539783fa01056164) k8s/syslog: Inject fluentd hostname in records and object keys
S3ã«ç½®ãlog fileã«hostnameã‚’ä»˜ä¸ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™

### [c72628c](https://github.com/ruby-no-kai/rubykaigi-nw/commit/c72628cc33eb94d849ac6bc5688efc0c9175d368) k8s/syslog: Use default chunk\_limit\_size as timekey is enough short
fluentdãŒçµ‚äº†ã™ã‚‹ã¨ãã«buffer(ï¼Ÿ)ã‚’flushã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œãªã„ã¨æ›¸ãå‡ºã—åˆ‡ã‚‰ãšã«çµ‚äº†ã—ã¦ã—ã¾ã†ï¼Ÿ

### [7160fc0](https://github.com/ruby-no-kai/rubykaigi-nw/commit/7160fc0a5477363a96112beecddb2749ab6b0f0b) k8s/syslog: No separete chunks by tag
tagã§chunkãŒåˆ†é›¢ã•ã‚Œã¦ã—ã¾ã†ã®ã‚’é˜²ã„ã§ã„ã‚‹ï¼Ÿ

### [73d7542](https://github.com/ruby-no-kai/rubykaigi-nw/commit/73d7542c18203ca34139e710e55c3ecbfe45533e) bastion: ignore ami id change
terraformã§bastion instanceã«å¯¾ã—ã¦ã¯AMIã®å¤‰æ›´ã‚’ç„¡è¦–ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚


### [51869fc](https://github.com/ruby-no-kai/rubykaigi-nw/commit/51869fcdaf444e79e8ac826ec57a3e3d2fe97549)  configure private NAT gateway for onpremises
> use static NAT on onpremises router devices so they don't need to handle dynamic NAPT table and allow redundancy

ã€Œã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã®ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ‡ãƒã‚¤ã‚¹ã§é™çš„NATã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€å‹•çš„NAPTãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å‡¦ç†ã™ã‚‹å¿…è¦ãŒãªãã€å†—é•·æ€§ã‚’ç¢ºä¿ã§ãã‚‹ã€‚ã€ ã‚ï½ã¯ã„ã¯ã„ãªã‚‹ã»ã©å®Œå…¨ã«ç†è§£ã—ãŸ

### [b0c0737](https://github.com/ruby-no-kai/rubykaigi-nw/commit/b0c07375da97307c8475e2b3fc17fb2b33769e10) tf/core: Allog GHA to push unbound image
unboundãŒã‚¢ãƒƒãƒ—ã‚’å§‹ã‚ã¦ã„ã‚‹

### [dafaaeb](https://github.com/ruby-no-kai/rubykaigi-nw/commit/dafaaebc1c65980bd250fd855034f9384df2bc5b) tf/dns-cache: ECR repo and SG
unboundã‚’Cache DNS serverã¨ã—ã¦é‹ç”¨ã™ã‚‹ã¿ãŸã„ã§ã€ãã®ãŸã‚ã®ECRã¨security groupã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

### [9d4ead6](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9d4ead6ead182da88819820021edea5306bda195) docker/unbound: unbound with modified unbound_exporter
ç‹¬è‡ªã®unbound exporterã«ã‚ˆã‚‹ç›£è¦–ã‚’æœ‰åŠ¹ã«ã—ãŸunboundã®containerã‚’buildã—ã¦ã„ã¾ã™ã€‚Jsonnetå¤§æ´»èºã€‚

### [ac08623](https://github.com/ruby-no-kai/rubykaigi-nw/commit/ac08623a3a17dbe66af8e05bcb8e25e28118ca35) tf/dns-cache: typo
ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ

### [bbd2f10](https://github.com/ruby-no-kai/rubykaigi-nw/commit/bbd2f1013de4da069aa3f2e008eb6ca3a5551df5) k8s/dns-cache: unbound
unboundã®è¨­å®šã§ã™ã€‚

### [68c205f](https://github.com/ruby-no-kai/rubykaigi-nw/commit/68c205fb465740cafb045d628de1d64702cdb9b9) k8s/dns-cache: forward reverse lookup zones and rubykaigi.{net,org} to VPC resolver
ç‰¹å®šã®é€†å¼•ãã«å¯¾ã—ã¦ã¯ç‰¹å®šã®IPã«é€ã‚‹ã‚ˆã†ã«ã—ã¦ã„â€¦â€¦ã‚‹ï¼Ÿã“ã®IPãŒVPC resolverã‚’æŒ‡ã—ã¦ã„ã‚‹ï¼Ÿ

### [c15afdf](https://github.com/ruby-no-kai/rubykaigi-nw/commit/c15afdf6ec2eabbd2f8506f579944a2b082f8f77) k8s/dns-cache: Update image
deployã•ã‚Œã‚‹unboundã‚’æ›´æ–°ã—ã¦ã„ã¾ã™ã€‚

### [831f13](https://github.com/ruby-no-kai/rubykaigi-nw/commit/831f13f0d78c9cfe980a517b1439aa36f9409a3b) k8s/dns-cache: fixup 68c205f
68c205fã§è¨­å®šã—ãŸlocal-zoneã«å¯¾ã—ã¦nodefaultã‚’ä»˜ã‘ã¦ã„ã¾ã™ã€‚unboundãªã«ã‚‚ã‚ã‹ã‚‰ãªã„ã€‚

> nodefault	AS112ã‚¾ãƒ¼ãƒ³ï¼ˆâ€»ï¼‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨­å®šã‚’ã‚ªãƒ•ã«ã™ã‚‹
> â€» AS112ã‚¾ãƒ¼ãƒ³ã¯ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ã‚„ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã®é€†å¼•ãã®ã‚¾ãƒ¼ãƒ³ã®ã“ã¨ã§ã™ã€‚Unboundã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã“ã®ã‚¾ãƒ¼ãƒ³ã«å¯¾ã™ã‚‹å•ã„åˆã‚ã›ã«ã¯NXDOMAINï¼ˆæƒ…å ±ãªã—ï¼‰ã‚’è¿”ã—ã¾ã™ã€‚
>  [ç¬¬4å›ã€€Unboundã‚µãƒ¼ãƒé‹ç”¨Tips | gihyo.jp](https://gihyo.jp/admin/feature/01/unbound/0004)

`NXDOMAIN` ã‚’è¿”ã•ãªã„ã‚ˆã†ã«ã—ãŸã€ã¨ã„ã†ã“ã¨ãªã‚“ã§ã—ã‚‡ã†ã‹ã€‚


### [9dc8b6c](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9dc8b6c2df81643646d65c9e9b3b8a46e83fb2b3)  k8s/dns-cache: <https://nlnetlabs.nl/documentation/unbound/howto-optimise/>
unboundã®è¨­å®šã‚’å¤‰æ›´ã—ã¦æ€§èƒ½ã‚’èª¿æ•´ã—ã¦ã„ã¾ã™ã€‚

### [48cead4](https://github.com/ruby-no-kai/rubykaigi-nw/commit/48cead43e814a48822e70e99288d3053fd8a06a9) k8s/dns-cache: setuid
unboundãŒ `unbound` userã§å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

### [83645b1](https://github.com/ruby-no-kai/rubykaigi-nw/commit/83645b182248f6fefa3c44c64fa0f6f4a9bb3d0f) update hosts.txt, generate ptr for public IPs
ã‚°ã‚ªã‚ªã‚ª

### [477f8a1](https://github.com/ruby-no-kai/rubykaigi-nw/commit/477f8a10cb36cfcfd348e392bc723a7b1636f891) add kea4 config for all venue subnets
venueä¸‹ã®subnetã«å¯¾ã—ã¦Kaeã§æ‰•ã„å‡ºã™IP rangeã‚’æŒ‡å®šã—ã¦ã„ã‚‹â€¦â€¦ã§ã„ã„ã®ã‹ï¼Ÿ

### [ceca0e4](https://github.com/ruby-no-kai/rubykaigi-nw/commit/ceca0e4352afa598e2c29ffab82fd8157436f955) dns-cache: Expose TCP port
unbound containerã«å¯¾ã—ã¦TCPã§ã‚‚é€šä¿¡ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚heathcheckã¨ã‹ã§ã‚‚ä½¿ã†ã‹ã‚‰ã€‚

### [ae37486](https://github.com/ruby-no-kai/rubykaigi-nw/commit/ae37486e34454863a957c46087086720ecec4534)  Enable pod-readiness-gate-inject
<https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.4/deploy/pod_readiness_gate/>

ãªã‚‹ã€ã»ã©ã€ã­â€¦â€¦ï¼Ÿ

### [42bc251](https://github.com/ruby-no-kai/rubykaigi-nw/commit/42bc251683fee131085e8b2eb71ee9a2c22336a2) kopipe
ğŸ˜œ

### [ae96cb9](https://github.com/ruby-no-kai/rubykaigi-nw/commit/ae96cb97a24c1286976ca4bdd8eeabdd0fb14d94) tf/dns-cache: Restrict access to healthcheck port from NLB subnets
NLBã®subnetã‹ã‚‰unboundã¸ã®healthcheck accessã‚’ã§ããªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚metricã‚‚åŒã˜portã§æä¾›ã™ã‚‹ã‹ã‚‰ã€ã¨ã„ã†ã®ã¯metricã«å½±éŸ¿ãŒå‡ºã‚‹ï¼Ÿ

### [9d02422](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9d02422e215eef442ba811e79a662640adeaab05) Use loop over map value
ã“ã‚Œã¯terraformã®for loopã®è¨­å®šã€‚

### [a4e3dd3](https://github.com/ruby-no-kai/rubykaigi-nw/commit/a4e3dd3c49d589ec84ce08745c17f8b178d3a4e0) ./gen-workflows.rb
./gen-workflows.rbã‚’å®Ÿè¡Œã—ãŸçµæœã‚’commitã—ãŸã‚“ã ã¨æ€ã„ã¾ã™ã€‚

### [2c84d6c](https://github.com/ruby-no-kai/rubykaigi-nw/commit/2c84d6c83b86ebac8d1d06eb7283e2f5c6022678) tf/k8s: node\_onpremises min\_size=2
Availability Zoneã”ã¨ã«é…ç½®ã•ã‚Œã‚‹ã‚ˆã†ã€nodeã®min_sizeã‚’2ã«ã—ã¦ã„ã¾ã™

### [3bacade](https://github.com/ruby-no-kai/rubykaigi-nw/commit/3bacade789d88f5744b217e1e87772d9b1af0430) update hosts
hosts.txtãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€‚tmpã«å¯¾ã—ã¦åå‰ãŒä»˜ãã¾ã—ãŸã­ã€‚

### [137ce90](https://github.com/ruby-no-kai/rubykaigi-nw/commit/137ce909b15165d978ea87ce073ed86a0b0ac07c) Probe dns-cache
unboundã«å¯¾ã™ã‚‹Prometheusã‹ã‚‰ã®ç›£è¦–ã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚internalãªhostnameã¨externalãªhostnameã«å¯¾ã™ã‚‹åå‰è§£æ±ºã‚‚ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ãã†ã€‚

### [017aca1](https://github.com/ruby-no-kai/rubykaigi-nw/commit/017aca14532b13c7d53b3e03b403fb4f7b4b1af7) k8s/dns-cache: topologySpreadConstraints
unboundã«å¯¾ã—ã¦topologySpreadConstraintsã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚Zoneã”ã¨ã«ã¡ã‚ƒã‚“ã¨ã°ã‚‰ã‘ã¦ãã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚


### [ef6d2bb](https://github.com/ruby-no-kai/rubykaigi-nw/commit/ef6d2bb24d82a7e5e23a65bb5f582e1212ddc0c4) k8s/dhcp: nameserver IPs
KeaãŒDNS resolverã¨ã—ã¦ä½¿ã†ã‚‚ã®ã‚’ `8.8.8.8` ã‹ã‚‰unboundã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

### [d9d2a64](https://github.com/ruby-no-kai/rubykaigi-nw/commit/d9d2a643210aa57defa206719797005595fea9b7) air: more dynamic ips
IP addrè¶³ã‚Šãªã‹ã£ãŸï¼Ÿ

### [5788b2e](https://github.com/ruby-no-kai/rubykaigi-nw/commit/5788b2e7defa94197cb51c5e76bfb0e5951ec429) scrape snmp
PrometheusãŒSNMPã§ç›£è¦–ã™ã‚‹å¯¾è±¡ã®hostã‚’å¢—ã‚„ã—ã¦ã„ã¾ã™ã€‚

### [3551e94](https://github.com/ruby-no-kai/rubykaigi-nw/commit/3551e94b6ded16fff03810d06cf181f191c3e6f7) snmp_exporter cisco wlc
Ciscoã®WLCã«å¯¾ã—ã¦SNMPã§å–å¾—ã™ã‚‹metricã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

### [473d956](https://github.com/ruby-no-kai/rubykaigi-nw/commit/473d9569bdd04cfbaee34bc36a6fe80a2d52dea1) fixup 5788b2e
5788b2eã§æŒ‡å®šã—ãŸWLCã®hostnameã‚’ä¿®æ­£ã—ã¦ã„ã¾ã™

### [306e534](https://github.com/ruby-no-kai/rubykaigi-nw/commit/306e5345096a2ae890181fbccc9d86d58700a4ff) prom: wlc uses public2 community
ã“ã‚Œã¡ã‚‡ã£ã¨ã‚ˆãã‚ã‹ã‚‰ãªã„â€¦â€¦WLCã®å±…å ´æ‰€ã«é–¢ã™ã‚‹è¨­å®šï¼Ÿ

### [345596c](https://github.com/ruby-no-kai/rubykaigi-nw/commit/345596cc01a0bb6632243b42401e01e329f13fa3) snmp-exporter: damerashii
ãƒ€ãƒ¡ã‚‰ã—ã„ã€‚ [f52e1bc](https://github.com/ruby-no-kai/rubykaigi-nw/commit/f52e1bc3be246129cb14038c7fbe32ab92375cd5) ã§è¿½åŠ ã—ãŸä¸€éƒ¨ã®è¨­å®šã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã„ã¾ã™ã€‚

### [b7c40c9](https://github.com/ruby-no-kai/rubykaigi-nw/commit/b7c40c9e416afccc52415674f148a1be65e2496f) update hosts
hosts.txtã‚’æ›´æ–°ã—ã¦ã„ã¾ã™ã€‚é †ç•ªãŒä¸Šã«ç§»å‹•ã—ãŸã ã‘ï¼Ÿ

### [4124beb](https://github.com/ruby-no-kai/rubykaigi-nw/commit/4124beba34429a129f27b3df61446faf5e23d940) add am-i-at-rubykaigi s3 bucket
ã•ã¦ã€ä¼šå ´ã§RubyKaigiã®ãƒ©ã‚¤ãƒ–é…ä¿¡ã‚’è¦‹ã‚ˆã†ã¨ã—ãŸå ´åˆã«ã¯è¦‹ã‚‰ã‚Œãªããªã£ã¦ã„ãŸã¨æ€ã„ã¾ã™ãŒã€ã“ã‚ŒãŒãã‚Œã§ã™ã€‚ç‰¹å®šã®S3 bucketã«å¯¾ã—ã€ä¼šå ´å†…ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã§ã‚ã‚Œã°Denyã™ã‚‹ã‚ˆã†ãªè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚

ãƒ©ã‚¤ãƒ—é…ä¿¡è¦–è´ã‚¢ãƒ—ãƒªå´ã§ã¯ã“ã“ã§ãã®åˆ¶å¾¡ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚

<https://github.com/ruby-no-kai/takeout-app/blob/2657a8f46ac3068954c8ef46aaffeb2caac01eb2/app/javascript/Api.ts#L680-L699>

### [d6f4953](https://github.com/ruby-no-kai/rubykaigi-nw/commit/d6f49535ffd681331ddd1832566ea9cf26dcc404) cloudwatch: DX
AWS Direct Connectã®metricã‚‚cloudwatch-exporterã§åé›†ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

### [fac7459](https://github.com/ruby-no-kai/rubykaigi-nw/commit/fac7459d1d87d741b95ff5239b492e44aad03b8b)  cloudwatch: MediaLive
AWS Elemental MediaLiveã®metricã‚‚cloudwatch-exporterã§åé›†ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

RubyKaigiã®ãƒ©ã‚¤ãƒ–é…ä¿¡ãŒã©ã®ã‚ˆã†ã«AWSã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã—ã¦å®Ÿç¾ã•ã‚Œã¦ã„ã‚‹ã‹ã¯ã“ã®è¨˜äº‹ã«è©³ã—ã„ã§ã™ã€‚ã¾ã‚ä½œè€…ãŒæ›¸ã„ã¦ã‚‹ã®ã§â€¦â€¦

* [How RubyKaigi built an event site in days with the Amazon Chime SDK and Amazon IVS | Business Productivity](https://aws.amazon.com/jp/blogs/business-productivity/how-rubykaigi-built-an-event-site-in-days-with-the-amazon-chime-sdk-and-amazon-ivs/)
    * [Amazon ChimeSDK ã¨ Amazon IVS ã§ RubyKaigi ã‚’æ•°æ—¥ã§æ§‹ç¯‰ã™ã‚‹ã«ã¯ | Amazon Web Services ãƒ–ãƒ­ã‚°](https://aws.amazon.com/jp/blogs/news/how-rubykaigi-built-an-event-site-in-days-with-the-amazon-chime-sdk-and-amazon-ivs/)

### [f758267](https://github.com/ruby-no-kai/rubykaigi-nw/commit/f75826738a15fdcb1597879ce6b1a3d0b4eff1a0) printer
ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ï¼Ÿ

### [44518e6](https://github.com/ruby-no-kai/rubykaigi-nw/commit/44518e66333589b4c2dda244cab6fea727fed5d3) dns-cache: temporarily set to permissive mode
ä¸€æ™‚çš„ã« `val-permissive-mode: yes` ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œãªã«ï¼Ÿ

[DNSSECã‚’ç„¡åŠ¹ã«ã™ã‚‹æ–¹æ³• â€“ æ—¥æœ¬Unboundãƒ¦ãƒ¼ã‚¶ãƒ¼ä¼š](https://unbound.jp/unbound/howto_turnoff_dnssec/)

ãªã‚‹ã»ã©ã­ã€‚

### [a6affeb](https://github.com/ruby-no-kai/rubykaigi-nw/commit/a6affeb07d07b7df46cfdd0979f96264276c2069) dns-cache: Reverse IPv4/6 zones
å…ˆã®å¤‰æ›´ã‚’å‰Šé™¤ã—ã€zoneã®é€†å¼•ãã®è¨­å®šã‚’å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

### [836e010](https://github.com/ruby-no-kai/rubykaigi-nw/commit/836e0102e4c74fd317d10b06f958707d3d1aa2b8) dns-cache: trust reverse IP zones
privateãªzoneã¯ä¿¡é ¼ã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™â€¦â€¦ã¨ã„ã†ã‹DNSå‘¨ã‚Šã®ã“ã‚Œã‚‰ã®è¨­å®šã‚’æ—¥æœ¬èªã«èµ·ã“ã™ã¨ãã®è¨€è‘‰ã®é¸æŠãŒæ­£ã—ã„ã®ã‹å…¨ç„¶è‡ªä¿¡ãŒãªã„ã€‚

### [0f0f71b](https://github.com/ruby-no-kai/rubykaigi-nw/commit/0f0f71b7817c8094c3baf03ec6d51197c2825aaf) dns-cache: Only forward private IP reverse zones
private IPã®ã¿é€†å¼•ãã‚’forwardã™ã‚‹ã‚ˆã†å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

### [2d76c39](https://github.com/ruby-no-kai/rubykaigi-nw/commit/2d76c3914e243b1bbafdc437d55c89624717918b) rules
EC2ã‚„EBSãªã©ã¸ã®ç›£è¦–è¨­å®šã‚’Prometheusã«å¯¾ã—ã¦è¡Œã£ã¦ã„ã¾ã™ã€‚

### [9ef4827](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9ef4827c2e2e205794f1f39802ad6d77a83db167) Copy prometheus rules from cnw
[sorah/cnw](https://github.com/sorah/cnw)ã‹ã‚‰Prometheusã®è¨­å®šã‚’æ‹å€Ÿã—ã¦ã„ã¾ã™ã€‚

-------

ã“ã“ã‹ã‚‰ã¯è¨­å–¶æ—¥ (9/9)ã«ãªã‚Šã¾ã™ã€‚

### [58ab522](https://github.com/ruby-no-kai/rubykaigi-nw/commit/58ab522de8c9aecdfd551c07eff8c23d2632b0db) prom: SNMP target down
SNMPã§ç›£è¦–ã™ã‚‹å¯¾è±¡ãŒDOWNã—ã¦ã„ã‚‹å ´åˆã®ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚

### [f1dd400](https://github.com/ruby-no-kai/rubykaigi-nw/commit/f1dd40063e8e6674d32d6eac570faeaef154b181) prom: IXSystemUtilization
NECã®ãƒ«ãƒ¼ã‚¿ãƒ¼ã«å¯¾ã—ã¦ã®ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚CPUä½¿ç”¨ç‡ã‹ãªï¼Ÿ

### [8a48bd7](https://github.com/ruby-no-kai/rubykaigi-nw/commit/8a48bd7005527e136026464cb4295ddb6bb0ddc3) snmp-exporter: scrape sysinfo from wlc
WLCã«å¯¾ã—ã¦SNMPã§å–å¾—ã™ã‚‹é …ç›®ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

### [e618b04](https://github.com/ruby-no-kai/rubykaigi-nw/commit/e618b04458918aaebf2f4b7ac6be857339b241eb) printer oops!
ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã®å±…å ´æ‰€(ã¨ã„ã†ã‚ˆã‚Šã¯hosts.txtã‹ã‚‰ç”Ÿæˆã•ã‚Œã‚‹å®šç¾©ï¼Ÿ)ãŒé–“é•ã£ã¦ã„ãŸã£ã½ãã€ãã‚Œã‚’ä¿®æ­£ã—ã¦ã„ã¾ã™ã€‚

ä»Šæ€ã„å‡ºã—ãŸã‘ã©ã€ã“ã‚Œãƒ†ãƒ—ãƒ©ã®ãƒ©ãƒ™ãƒ«ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ï¼Ÿ

### [3307051](https://github.com/ruby-no-kai/rubykaigi-nw/commit/3307051b7fa51fa46802f81bdf1e12d86dde15be) prom: alert on sysUpTime resets
SNMPã§ç›£è¦–ã—ã¦ã„ã‚‹å¯¾è±¡ã®æ©Ÿå™¨ãŒå†èµ·å‹•ã—ãŸã¨ãã®ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚

### [4e85ec7](https://github.com/ruby-no-kai/rubykaigi-nw/commit/4e85ec7ef18d4c858ccb0ea041b7c72e2fc9b84b) nocadmin: moooar bucket
NocAdmin roleã«å¯¾ã—ã¦takeout-app(é…ä¿¡è¦–è´ã‚¢ãƒ—ãƒª)é–¢é€£ã®S3 bucketã¸ã®æ¨©é™ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚

### [9b5dfe8](https://github.com/ruby-no-kai/rubykaigi-nw/commit/9b5dfe8f1db7e3a3963a844f4266b3501ed108f7) 86400 nagai; to 3600
è‡ªåˆ†ãŒä¼šå ´ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã„ã‚‹ã‹ã©ã†ã‹ã®åˆ¤å®šã«ä½¿ç”¨ã™ã‚‹Bucketã®response cacheãŒé•·ã„ã®ã§1æ™‚é–“ã«å¤‰æ›´ã—ã¦ã„ã¾ã™ã€‚

## ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ
ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ
