---
title: "OSSへの要望をカジュアルに提案することについて"
date: 2021-12-10 03:20 JST
tags: 
- ruby
- oss
- diary
---

![itamae wiki changelog](2021/itamae-wiki-changelog.png)


## アンサーブログ
これは [Ruby についてカジュアルに議論できる場が欲しい - 虚無庵](https://jinroq.hatenablog.jp/entry/2021/12/09/000000) というブログのアンサー的なものです。

上記ブログ記事で、甚六さんが

> そもそもで”本当に**カジュアルに**話題を振って良いのか？”どうか分かっていない

とおっしゃられてますが、僕は**良い**と思います。そう思う理由を以下に続けます。

## 書いている人間の立場
僕はItamaeというRuby gemのメンテナ[^maintainer]です。Itamaeは構成管理ツールであり、同様のものはChefやAnsibleが挙げられます。

[^maintainer]: 作者ではないです。作者はryotaraiさんで、メンテナは僕の他にsue445さんがいらっしゃいます。

2018年からメンテナの一員となり、issue/pull requestへの対応、新しいバージョンのリリースやSlackでのコミュニケーションをやっていってます。

[Itamaeのメンテナになりました | うなすけとあれこれ](/2018/i-joined-itamae-org/)

もちろんRubyとは関わっているメンバーやコードベースの規模が大きく異りますが、Rubyと同様にOSSであり、僕はそのメンテナなのでこのテーマについてメンテナ側の立場で発言する資格はあると思っています。

## 要するに、まず結論
OSSのメンテナが「やりたい」と思っていることがあり、それについて外部から「やってほしい」や「手伝います」という声が上がってくれば優先度が上がる、というだけのことなんじゃないかと思います。

もちろん、「やってほしい」という要望は、そのOSS project固有のやりかたに則って上げる必要があるでしょう。これについてはsongmuさんが以前こんなことをおっしゃっていました。

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">OSSも人間の活動だからプロジェクト毎に個性がある。<br>なのでOSSのお作法、みたいなものに捉われないで、それぞれのプロジェクトとどの様に関わればうまくいくのかを、個別に向き合っていく必要がある。<br>世知辛いかも知れませんが、僕達の苦手な人付き合いと同じなんですよね。</p>&mdash; songmu (@songmu) <a href="https://twitter.com/songmu/status/1460566497462394882?ref_src=twsrc%5Etfw">November 16, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

そのプロジェクトのやりかたに則してさえいれば、あとは度胸、やるだけなんじゃないかなと。この場合は、まずRuby-dev office hourで話題に挙げる、でしょうか。

## なぜそう思うのか、実際の事例
そもそも皆さんはItamaeをご存知でしょうか。最近はもっぱらコンテナ型仮想化技術が人気になったのもあり、インスタンスのprovisioningという行為を行うことは減ってきているのではないかと思います。しかし不要になったわけではありません。最低限Dockerが動くmachine imageを作ったり、自分の使うPCの環境構築のためなどで構成管理ツールは現役です。

現在、構成管理ツールとして主流なのはAnshibleかと思いますが、Itamaeも便利です。特にRubyに慣れた人にとっては使いやすい[^anshible]でしょう。

[^anshible]: 実は僕はAnsibleを使ったことがないので何とも言えない

しかし知名度やユーザーはAnsibleと比較すると今一つ、というかとても少ないのではないかと言わざるをえません。理由の一つとして、「ドキュメントが少ない」のではないかという仮説を僕は持っています。そうでなくても、Itamaeのドキュメントは公式GitHub reopositoryにwikiがあるくらいで、メンテナが言うのもなんですが、積極的にメンテナンスされているとは言い難いです。GitHub wikiなので、Pull Requestを受け付けることもできません。

<https://github.com/itamae-kitchen/itamae/wiki>

まとまった記事としても、作者のryotaraiさんによるGihyoでの連載があるくらいで、これも2015年に書かれたものですし、日本語の資料しかありません。内容が陳腐化したということはありませんが、公式でもっとリソースを用意できたらなというのはずっと考えていました。

[Itamaeが構成管理を仕込みます！ ～新進気鋭の国産・構成管理ツール～：連載｜gihyo.jp … 技術評論社](https://gihyo.jp/admin/serial/01/itamae)

そうやってやりたい気持ちは抱えているだけで、他のやりたいことに手一杯で全然手を動かすことができていませんでした。そこに、海外の方から声がかかりました。「GitHub wikiにこのコードサンプルを追加してほしい」「英語ドキュメントを充実させたい、その手伝いがしたいが、何かできることはないですか？」と。

言うなれば、僕が抱えていた課題感は、これまでは僕しか課題に思っていないものでした。しかし利用者からの要望があるということで、それに取り組む価値があるということがわかったのです。

今回甚六さんが課題に思っているのはRubyのパーサーについての保守性のことです。

[個人的に Ruby parser についてまとめてみた - 虚無庵](https://jinroq.hatenablog.jp/entry/2021/11/12/005732)

この問題についても同じようなことが言えるのではないかと思っています。何とかしなきゃいけないとは思っているけど、本当に困っている人が居るかどうかわからない。なので優先度を上げる理由がない。手を動かしてくれる人がいるのであれば……

## メンテナ側としての意見

ユーザーからの意見や要望というのは、基本的にはありがたいものです。機能要望、bug fixなどをどのように連絡してほしいかというのは、projectのやりかたに従っているのであれば怒られるものではないはずですし、project側はやりかたを明記しておくべきでしょう。

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">Blog post: オープンソースのガバナンス<a href="https://t.co/kncUgwvRPR">https://t.co/kncUgwvRPR</a></p>&mdash; Kohsuke Kawaguchi (@kohsukekawa) <a href="https://twitter.com/kohsukekawa/status/1461325532176338945?ref_src=twsrc%5Etfw">November 18, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

また、以下の記事に言及して過度に忖度、萎縮されているように感じました。

[「issueを立てるな！」 - Qiita](https://qiita.com/wraith13/items/cd46d5eb736f6803f47c)

この記事はタイトルこそ「issueを立てるな」であり、OSSはissueひとつで崩壊しかねない、儚いものだと述べています。ただ、この記事で問題としているのは、正当な手順を踏まないissueの作成であり、このコンテキストにおいてはあてはまらないと考えます。ちゃんとメンテナの方々の労力を思いやることができ、projectのやりかたを踏まえて要望を挙げるのであれば、何も萎縮することはないと思います。

ただ、何度も同じ話題が出てきては立ち消えてしまうのであれば、それは別の問題がありそう[^problem]なので一旦立ち止まるといいのかもしれません。

[^problem]: 問題に思っている人は居るが、差し迫った状況ではない、危機感が薄いなど……？

今回の話であれば、まずRuby-dev office hourで話題に挙げるというのは全然アリなんじゃないかと思います。中の人でもなんでもないですが、一度参加した感じだとそういう話題が忌避されることはないでしょう。

また、卜部さんのSlackタバコ部屋問題については、そこで**決める**から問題になるのであって、何が問題なのかふわふわした状態でticketを切るより、一旦closedな場でもいいので、議論となる点をまとめてから公開の場で話題に挙げる、というのは全然問題ないと考えます。

## コントリビューターとしての意見

Rubyほどの大きなプロジェクトに対して意見を提案するのは気が引けるというのはとてもよくわかります。とはいえ、これはもうやるかやらないかなので、「やるぞ」という気持ちを作るしかないと思います。

> 口頭で Ruby のことを話さなければならないので自分にはハードルが高い

についてですが、hackmdに事前に内容を書いておけること、以前の記事がとてもよくまとまっていることから、話す内容、想定質問については準備しておいて臨めばいいのではないかと思います。研究発表の場でもないので、考えが甘いことで詰められることもないでしょうし。

英語については、僕も同意見です。自信は全くないです。しかし、OSSをやっていく上で必用な英語のスキルというのは、読みと書きの比重がとても大きいです。つまりこの2つが最低限なんとかなればいいので、あとは機械翻訳に頼ればいいと思います。ただ、機械翻訳の結果の英文がおかしなことになっていないかを判断するための最低限の英語力は必用だと思うので、それは勉強しかないでしょう。僕はDuolingoをやっています。OSS活動の際に書く英文ですが、「これDuolingoでやった文型だな」と感じることはそれなりにあります。

## まとめ
今のRubyコミュニティで、Ruby-dev office hour及びruby-jp slack以上にカジュアルに議論できる場はなく[^casual]、今後もできないと思います。なので、あとは、がんばってください！！

(ところで例えばPEGに置き換えるとして、PEGでRubyの文法って表現できるんですか？)

[^casual]: 他にもRubyKaigiがありますが、「カジュアル」なのはリアル開催の廊下が近いと思っていて、現在のtakeoutのスタイルだとちょっと難しいかもしれないですね
